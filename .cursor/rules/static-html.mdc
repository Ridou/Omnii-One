---
description: 
globs: 
alwaysApply: false
---
üìã **BULLETPROOF Google Crawler Compliance Plan**

üö® **CRITICAL DISCOVERY: Current Static Export is BROKEN for Crawlers**

**What Google Actually Sees:**
```html
<div id="root">
  <div class="css-175oi2r r-13awgt0">
    <!--$!--><template></template><!--/$-->
  </div>
</div>
<script src="/_expo/static/js/web/entry-xxx.js" defer></script>
```

**Translation: COMPLETELY EMPTY PAGES** üò°

Google's crawlers see ZERO content, ZERO privacy policy links, ZERO anything. Expo Router's "static export" is just generating JavaScript shells, not actual static HTML content.

---

## üéØ **NEW PLAN: Hybrid Bulletproof Approach**

**Strategy**: Keep our beautiful React app but add **crawler-specific static HTML files** that contain actual content.

### **Phase 1: Generate Crawler-Friendly Static HTML (1 hour)**

**Step 1.1: Create Static HTML Generator Script** ‚è±Ô∏è 30 minutes
```javascript
// Create: scripts/generate-static-html.js
const fs = require('fs');
const path = require('path');

const routes = {
  '/': {
    title: 'OMNII - AI Productivity Assistant | Reclaim Your Humanity',
    description: 'Let AI handle the rest. OMNII transforms chaos into clarity, insights into action, potential into progress.',
    content: `
      <h1>OMNII - Reclaim Your Humanity</h1>
      <p>Let AI handle the rest. OMNII transforms chaos into clarity, insights into action, potential into progress with intelligent productivity assistance.</p>
      
      <nav>
        <a href="/privacy-policy">Privacy Policy</a> |
        <a href="/terms-of-service">Terms of Service</a> |
        <a href="/about">About</a> |
        <a href="/support">Support</a>
      </nav>
      
      <h2>Key Features</h2>
      <ul>
        <li>AI-powered task suggestions</li>
        <li>Intelligent productivity insights</li>
        <li>Achievement system</li>
        <li>Privacy-first design</li>
      </ul>
      
      <footer>
        <p><a href="/privacy-policy"><strong>Privacy Policy</strong></a> | <a href="/terms-of-service">Terms of Service</a></p>
        <p>¬© 2025 Omnii Net LLC. All rights reserved.</p>
      </footer>
    `
  },
  
  '/privacy-policy': {
    title: 'Privacy Policy - OMNII AI Productivity Assistant',
    description: 'OMNII Privacy Policy - Learn how we collect, use, and protect your information when you use our AI productivity assistant.',
    content: `
      <h1>OMNII Privacy Policy</h1>
      <p><strong>Effective Date:</strong> May 30, 2025</p>
      <p><strong>Last Updated:</strong> May 30, 2025</p>
      
      <p>Your privacy is important to us. This policy explains how we collect, use, and protect your information when you use OMNII.</p>
      
      <h2>1. Introduction</h2>
      <p>Welcome to OMNII ("we," "our," or "us"). This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our mobile application OMNII (the "App") and related services.</p>
      
      <h2>2. Information We Collect</h2>
      <h3>2.1 Personal Information You Provide</h3>
      <ul>
        <li><strong>Account Information</strong>: Email address, full name (optional)</li>
        <li><strong>Profile Information</strong>: Work preferences, productivity patterns, AI persona settings</li>
        <li><strong>Communication Data</strong>: Messages in chat interface, feedback submissions</li>
        <li><strong>Productivity Data</strong>: Task completion patterns, usage analytics, achievement progress</li>
      </ul>
      
      <h3>2.2 Information Collected Automatically</h3>
      <ul>
        <li><strong>Device Information</strong>: Device type, operating system version, unique device identifiers</li>
        <li><strong>Usage Information</strong>: App usage patterns, feature interactions, session duration</li>
        <li><strong>Technical Data</strong>: IP address, browser type, network information</li>
        <li><strong>Location Data</strong>: General location (city/country level) for analytics purposes only</li>
      </ul>
      
      <h2>3. How We Use Your Information</h2>
      <p>We use your information to provide core features including AI task suggestions, analytics, and achievements, personalize AI recommendations, maintain your account, and improve app performance.</p>
      
      <h2>4. Data Sharing and Disclosure</h2>
      <p><strong>We Do Not Sell Your Personal Information.</strong> We do not sell, rent, or trade your personal information to third parties for monetary consideration.</p>
      
      <h2>5. Your Privacy Rights</h2>
      <ul>
        <li><strong>Access</strong>: Right to access your personal information</li>
        <li><strong>Correction</strong>: Right to correct inaccurate information</li>
        <li><strong>Deletion</strong>: Right to delete your personal information</li>
        <li><strong>Portability</strong>: Right to export your data in a portable format</li>
        <li><strong>Objection</strong>: Right to object to processing of your personal information</li>
      </ul>
      
      <h2>6. Contact Information</h2>
      <p>If you have questions about this Privacy Policy or our data practices, please contact us:</p>
      <p><strong>Email:</strong> <a href="mailto:privacy@omnii.live">privacy@omnii.live</a></p>
      
      <footer>
        <p><a href="/">‚Üê Back to Home</a> | <a href="/terms-of-service">Terms of Service</a></p>
        <p>For the complete Privacy Policy, visit: <a href="https://omnii.live/privacy-policy">https://omnii.live/privacy-policy</a></p>
      </footer>
    `
  },
  
  '/terms-of-service': {
    title: 'Terms of Service - OMNII AI Productivity Assistant',
    description: 'OMNII Terms of Service - The terms and conditions for using our AI productivity assistant.',
    content: `
      <h1>OMNII Terms of Service</h1>
      <p><strong>Effective Date:</strong> May 30, 2025</p>
      <p><strong>Last Updated:</strong> May 30, 2025</p>
      
      <p>These terms govern your use of OMNII and outline the rights and responsibilities of both users and our service.</p>
      
      <h2>1. Acceptance of Terms</h2>
      <p>By downloading, installing, or using the OMNII mobile application ("App"), you agree to be bound by these Terms of Service ("Terms").</p>
      
      <h2>2. Description of Service</h2>
      <p>OMNII is an AI-powered productivity assistant that provides AI task suggestions, approval system, analytics dashboard, achievement system, and chat interface.</p>
      
      <h2>3. User Accounts and Registration</h2>
      <p>You must provide accurate information during registration and maintain account security and confidentiality.</p>
      
      <h2>4. Contact Information</h2>
      <p>For questions about these Terms or the App, contact us at:</p>
      <p><strong>Email:</strong> <a href="mailto:support@omnii.live">support@omnii.live</a></p>
      
      <footer>
        <p><a href="/">‚Üê Back to Home</a> | <a href="/privacy-policy">Privacy Policy</a></p>
        <p>For the complete Terms of Service, visit: <a href="https://omnii.live/terms-of-service">https://omnii.live/terms-of-service</a></p>
      </footer>
    `
  },
  
  '/about': {
    title: 'About OMNII - AI Productivity Assistant',
    description: 'Learn about OMNII\'s mission to reclaim humanity through AI-powered productivity assistance.',
    content: `
      <h1>About OMNII</h1>
      <h2>Reclaiming humanity, one workflow at a time</h2>
      
      <p>Born in the ancient temples of Kyoto, shaped by a vision of technology that serves humanity's highest potential.</p>
      
      <h2>Our Mission</h2>
      <p>We believe powerful productivity tools shouldn't be locked behind enterprise paywalls or require technical expertise to use. OMNII brings enterprise-level AI assistance to individuals, small teams, and growing companies.</p>
      
      <h2>Our Values</h2>
      <ul>
        <li><strong>Human-Centered</strong>: Technology should amplify human potential, not replace it</li>
        <li><strong>Accessible</strong>: Powerful productivity tools for everyone</li>
        <li><strong>Transparent</strong>: Every AI decision is explainable</li>
        <li><strong>Global Impact</strong>: When people are more productive, the world benefits</li>
      </ul>
      
      <footer>
        <p><a href="/">‚Üê Back to Home</a> | <a href="/privacy-policy">Privacy Policy</a> | <a href="/support">Support</a></p>
      </footer>
    `
  },
  
  '/support': {
    title: 'Support - OMNII AI Productivity Assistant',
    description: 'Get help with OMNII. Contact our support team for technical assistance, questions, and feedback.',
    content: `
      <h1>OMNII Support</h1>
      <h2>We're here to help</h2>
      
      <p>Whether you need technical support or have questions about OMNII, our team is ready to assist you.</p>
      
      <h2>Contact Options</h2>
      <ul>
        <li><strong>Support Email:</strong> <a href="mailto:support@omnii.live">support@omnii.live</a></li>
        <li><strong>General Contact:</strong> <a href="mailto:contact@omnii.live">contact@omnii.live</a></li>
      </ul>
      
      <h2>Response Times</h2>
      <p>We typically respond to support requests within 24 hours during business days.</p>
      
      <footer>
        <p><a href="/">‚Üê Back to Home</a> | <a href="/privacy-policy">Privacy Policy</a></p>
      </footer>
    `
  }
};

function generateStaticHTML(route, data) {
  const structuredData = route === '/' ? `
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "OMNII",
    "description": "AI Productivity Assistant - Reclaim Your Humanity",
    "url": "https://omnii.live",
    "applicationCategory": "ProductivityApplication",
    "operatingSystem": ["iOS", "Android", "Web"],
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "Omnii Net LLC"
    }
  }
  </script>` : '';

  return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${data.title}</title>
  <meta name="description" content="${data.description}">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph -->
  <meta property="og:title" content="${data.title}">
  <meta property="og:description" content="${data.description}">
  <meta property="og:url" content="https://omnii.live${route}">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://omnii.live/icon-512.png">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="${data.title}">
  <meta name="twitter:description" content="${data.description}">
  <meta name="twitter:image" content="https://omnii.live/icon-512.png">
  
  <!-- Favicon -->
  <link rel="icon" href="/favicon.svg">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <!-- Structured Data -->
  ${structuredData}
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #fff;
    }
    h1 { color: #007AFF; border-bottom: 2px solid #007AFF; padding-bottom: 10px; }
    h2 { color: #333; margin-top: 30px; }
    h3 { color: #666; }
    a { color: #007AFF; text-decoration: none; }
    a:hover { text-decoration: underline; }
    ul { padding-left: 20px; }
    li { margin-bottom: 8px; }
    footer { 
      margin-top: 40px; 
      padding-top: 20px; 
      border-top: 1px solid #eee; 
      color: #666; 
      font-size: 14px; 
    }
    nav { 
      background: #f8f9fa; 
      padding: 15px; 
      border-radius: 8px; 
      margin: 20px 0; 
      text-align: center; 
    }
    .highlight { 
      background: #e8f4fd; 
      padding: 15px; 
      border-left: 4px solid #007AFF; 
      margin: 20px 0; 
    }
  </style>
</head>
<body>
  <main>
    ${data.content}
  </main>
  
  <!-- React App Hydration -->
  <script>
    // Redirect to React app after 3 seconds for interactive features
    setTimeout(() => {
      if (window.location.pathname !== '/') {
        window.location.href = '${route}?app=1';
      }
    }, 3000);
  </script>
</body>
</html>`;
}

// Generate files
Object.entries(routes).forEach(([route, data]) => {
  const filename = route === '/' ? 'index.html' : `${route.substring(1)}.html`;
  const filepath = path.join(__dirname, '../public', filename);
  
  fs.writeFileSync(filepath, generateStaticHTML(route, data));
  console.log(`‚úÖ Generated: ${filename}`);
});

// Generate sitemap.xml
const sitemap = `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <url><loc>https://omnii.live/</loc><priority>1.0</priority><changefreq>monthly</changefreq></url>
  <url><loc>https://omnii.live/privacy-policy</loc><priority>0.8</priority><changefreq>yearly</changefreq></url>
  <url><loc>https://omnii.live/terms-of-service</loc><priority>0.8</priority><changefreq>yearly</changefreq></url>
  <url><loc>https://omnii.live/about</loc><priority>0.6</priority><changefreq>quarterly</changefreq></url>
  <url><loc>https://omnii.live/support</loc><priority>0.6</priority><changefreq>monthly</changefreq></url>
</urlset>`;

fs.writeFileSync(path.join(__dirname, '../public/sitemap.xml'), sitemap);
console.log('‚úÖ Generated: sitemap.xml');

console.log('üéâ All static HTML files generated for Google crawlers!');
```

**Step 1.2: Generate the Static Files** ‚è±Ô∏è 15 minutes
```bash
# Create the scripts directory
mkdir -p scripts

# Create the script
node scripts/generate-static-html.js

# Verify files created
ls public/
# Should see: index.html, privacy-policy.html, terms-of-service.html, about.html, support.html, sitemap.xml
```

**Step 1.3: Update Vercel Config** ‚è±Ô∏è 15 minutes
```json
// vercel.json
{
  "buildCommand": "node scripts/generate-static-html.js && npm run build:web:static",
  "outputDirectory": "dist-static",
  "rewrites": [
    {
      "source": "/",
      "destination": "/index.html"
    },
    {
      "source": "/privacy-policy",
      "destination": "/privacy-policy.html"
    },
    {
      "source": "/terms-of-service",
      "destination": "/terms-of-service.html"
    },
    {
      "source": "/about",
      "destination": "/about.html"
    },
    {
      "source": "/support", 
      "destination": "/support.html"
    },
    {
      "source": "/(auth|tabs|request)/(.*)",
      "destination": "/index.html"
    },
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ],
  "headers": [
    {
      "source": "/(privacy-policy|terms-of-service|about|support)\\.html",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"
        }
      ]
    }
  ]
}
```

### **Phase 2: Enhance React App Integration (30 minutes)**

**Step 2.1: Add Query Parameter Detection** ‚è±Ô∏è 15 minutes
```typescript
// utils/navigation.ts - Add these functions
export const shouldShowReactApp = () => {
  if (typeof window === 'undefined') return false;
  
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get('app') === '1' || 
         window.sessionStorage.getItem('omnii-app-mode') === 'react';
};

export const enableReactAppMode = () => {
  if (typeof window !== 'undefined') {
    window.sessionStorage.setItem('omnii-app-mode', 'react');
  }
};
```

**Step 2.2: Update Landing Page** ‚è±Ô∏è 15 minutes
```typescript
// app/index.tsx - Add seamless transition
import { shouldShowReactApp, enableReactAppMode } from '@/utils/navigation';

export default function LandingPage() {
  const router = useRouter();
  const { isInitialized, user, session } = useAuth();
  
  // Enable React mode for authenticated users
  React.useEffect(() => {
    if (user && session) {
      enableReactAppMode();
    }
  }, [user, session]);
  
  // Show React app if user is authenticated or explicitly requested
  if (shouldShowReactApp() || (isInitialized && user && session)) {
    // Existing React app logic
    return <LandingPageContent />;
  }
  
  // For crawlers and first-time visitors, redirect to static HTML
  React.useEffect(() => {
    if (typeof window !== 'undefined' && !user) {
      window.location.href = '/';
    }
  }, [user]);
  
  return <LandingPageContent />;
}
```

### **Phase 3: Deploy and Test (15 minutes)**

**Step 3.1: Deploy** ‚è±Ô∏è 5 minutes
```bash
# Deploy to Vercel
vercel --prod

# Or commit and push for auto-deploy
git add .
git commit -m "Add bulletproof Google crawler compliance"
git push
```

**Step 3.2: Verify Google Sees Content** ‚è±Ô∏è 10 minutes
```bash
# Test what Google crawlers see
curl -A "Googlebot" https://omnii.live/ | grep -i "privacy policy"

# Should return: actual privacy policy links, not empty HTML

# Test privacy policy page
curl -A "Googlebot" https://omnii.live/privacy-policy | grep -i "privacy policy"

# Should return: full privacy policy content
```

---

## üöÄ **Phase 4: SEO Optimizations for 10/10 Compliance (15 minutes)**

**Step 4.1: Add robots.txt** ‚è±Ô∏è 5 minutes
```txt
# Create: public/robots.txt
User-agent: *
Allow: /
Allow: /privacy-policy
Allow: /terms-of-service
Allow: /about
Allow: /support

Sitemap: https://omnii.live/sitemap.xml
```

**Note:** sitemap.xml and structured data are already included in the main script above.

---

## üéØ **What This Achieves**

### ‚úÖ **Google Crawler Perspective:**
- **Homepage**: Sees actual content with **prominent privacy policy links**
- **Privacy Policy**: Sees full policy content with proper navigation
- **All Pages**: Have proper SEO meta tags, structured content, internal links

### ‚úÖ **User Experience:**
- **First Visit**: Clean, fast-loading static HTML
- **Subsequent Visits**: Full React app experience
- **Mobile**: Unchanged - perfect React Native experience
- **Transitions**: Seamless between static and dynamic content

### ‚úÖ **Technical Benefits:**
- **SEO Perfect**: Real HTML content for crawlers
- **Performance**: Instant load times for public pages
- **Fallback**: Always works even if JavaScript fails
- **Maintenance**: Easy to update content in one script

---

## üö® **GUARANTEED COMPLIANCE CHECKLIST**

### **Pre-Deploy Verification:**
- [ ] Create scripts directory
- [ ] Run static HTML generator script
- [ ] Verify HTML files created in public/
- [ ] Update vercel.json configuration
- [ ] Update utils/navigation.ts functions
- [ ] Update app/index.tsx for seamless transitions

### **Post-Deploy Validation:**
- [ ] `curl -A "Googlebot" https://omnii.live/` shows privacy policy link
- [ ] `curl -A "Googlebot" https://omnii.live/privacy-policy` shows full content  
- [ ] All static pages have proper `<title>` and meta tags
- [ ] Internal navigation links work in static HTML
- [ ] React app still functions for authenticated users
- [ ] Google Search Console sees all pages
- [ ] No broken links or crawl errors

---

## üéØ **WHY THIS WILL 100% WORK**

### ‚úÖ **Current Problem (What Google Sees):**
```html
<div id="root">
  <div class="css-175oi2r r-13awgt0">
    <!--$!--><template></template><!--/$-->
  </div>
</div>
```
**Translation: COMPLETELY EMPTY PAGES** üò°

### ‚úÖ **After Implementation (What Google Will See):**
```html
<h1>OMNII - Reclaim Your Humanity</h1>
<nav>
  <a href="/privacy-policy">Privacy Policy</a> |
  <a href="/terms-of-service">Terms of Service</a>
</nav>
<h2>Key Features</h2>
<ul>
  <li>AI-powered task suggestions</li>
  <li>Privacy-first design</li>
</ul>
<footer>
  <p><a href="/privacy-policy"><strong>Privacy Policy</strong></a></p>
</footer>
```
**Translation: ACTUAL CONTENT WITH PRIVACY POLICY LINKS** üéØ

---

## üö® **GUARANTEED SUCCESS FACTORS**

1. **‚úÖ Real HTML Content** vs empty JavaScript shells
2. **‚úÖ Prominent privacy policy links** on homepage (nav + footer)
3. **‚úÖ Full policy content** on dedicated page
4. **‚úÖ Proper navigation** between pages
5. **‚úÖ SEO-optimized** with meta tags, structured data, sitemap
6. **‚úÖ Preserves React app** for users (seamless transition)

---

## üî• **DEPLOYMENT READY**

This approach is **bulletproof** because it gives Google crawlers exactly what they expect while preserving your beautiful React app for users. No more JavaScript dependency, no more empty shells, no more rejections.

**Execute this plan and Google WILL approve your OAuth app.** üí™
# Omnii One - Environment Variables Template
#
# This file serves as documentation for all environment variables used in the monorepo.
# Copy this to `.env` and fill in actual values from 1Password/your secrets manager.
#
# SECURITY: Never commit .env files with real values!

# ==============================================================================
# STANDARD BUILD/RUNTIME VARIABLES
# ==============================================================================

NODE_ENV=development
CI=false

# ==============================================================================
# SHARED INFRASTRUCTURE (Used across multiple apps)
# ==============================================================================

# -----------------------------------------------------------------------------
# Supabase (PostgreSQL + Auth)
# -----------------------------------------------------------------------------
OMNII_POSTGRES_URL=postgres://postgres.[USERNAME]:[PASSWORD]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
OMNII_SUPABASE_URL=https://[PROJECT_ID].supabase.co
OMNII_SUPABASE_ANON_KEY=eyJhbGc...  # Client-safe anonymous key
OMNII_SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...  # Server-only - NEVER expose to client!

# -----------------------------------------------------------------------------
# Neo4j (Graph Database)
# -----------------------------------------------------------------------------
OMNII_NEO4J_URI=neo4j+s://[INSTANCE_ID].databases.neo4j.io
OMNII_NEO4J_USER=neo4j
OMNII_NEO4J_PASSWORD=  # Fill from 1Password
OMNII_NEO4J_DATABASE=neo4j  # Default database name (database-per-user pattern)

# Neo4j Aura Provisioning API (for database-per-user multi-tenancy)
OMNII_NEO4J_AURA_API_TOKEN=  # Neo4j Aura API token
OMNII_NEO4J_AURA_TENANT_ID=  # Neo4j Aura tenant ID

# -----------------------------------------------------------------------------
# Redis (Caching Layer)
# -----------------------------------------------------------------------------
OMNII_REDIS_URL=redis://localhost:6379
# Alternative: Upstash Redis (HTTP-based, serverless)
# OMNII_UPSTASH_REDIS_REST_URL=https://[ENDPOINT].upstash.io
# OMNII_UPSTASH_REDIS_REST_TOKEN=

# -----------------------------------------------------------------------------
# AI/ML Services
# -----------------------------------------------------------------------------
OMNII_OPENAI_API_KEY=sk-...  # OpenAI API key for GPT models
OMNII_ANTHROPIC_API_KEY=sk-ant-...  # Anthropic API key for Claude models (optional)
OMNII_COMPOSIO_API_KEY=  # Composio API key for Google services integration
OMNII_LANGSMITH_API_KEY=  # LangSmith API key for LLM tracing (optional)

# -----------------------------------------------------------------------------
# Google OAuth (Shared across apps)
# -----------------------------------------------------------------------------
OMNII_GOOGLE_CLIENT_ID=  # Google OAuth client ID
OMNII_GOOGLE_CLIENT_SECRET=  # Google OAuth client secret

# -----------------------------------------------------------------------------
# Authentication (better-auth)
# -----------------------------------------------------------------------------
OMNII_AUTH_SECRET=  # Generate via: openssl rand -base64 32
OMNII_AUTH_DISCORD_ID=  # Discord OAuth client ID (optional)
OMNII_AUTH_DISCORD_SECRET=  # Discord OAuth client secret (optional)
OMNII_AUTH_REDIRECT_PROXY_URL=  # OAuth redirect proxy URL (optional)

# ==============================================================================
# MCP BACKEND SPECIFIC (apps/omnii_mcp)
# ==============================================================================
#
# These variables are only used by the MCP backend apps.
# Store these in apps/omnii_mcp/.env for app-specific configuration.

# MCP_BASE_URL=http://localhost:8000
# MCP_PUBLIC_URL=https://mcp.omnii.one
# MCP_PORT=8000
# MCP_GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback

# -----------------------------------------------------------------------------
# Twilio (SMS Integration)
# -----------------------------------------------------------------------------
# MCP_TWILIO_ACCOUNT_SID=
# MCP_TWILIO_AUTH_TOKEN=
# MCP_TWILIO_PHONE_NUMBER=+1234567890
# MCP_TWILIO_TEST_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# RDF Python Service
# -----------------------------------------------------------------------------
# MCP_RDF_PYTHON_SERVICE_URL=http://localhost:5000
# MCP_RDF_PYTHON_SERVICE_OVERRIDE_URL=  # Override for testing

# -----------------------------------------------------------------------------
# n8n Agent Integration
# -----------------------------------------------------------------------------
# N8N_AGENT_ENABLED=false
# N8N_AGENT_SWARM_URL=https://n8n.omnii.one
# N8N_AGENT_TIMEOUT=30000
# N8N_ENABLED_AGENTS=calendar,email,tasks
# N8N_FALLBACK_ENABLED=true
# N8N_HEALTH_CHECK_INTERVAL=60000
# N8N_PERFORMANCE_TRACKING=false
# N8N_REQUEST_LOGGING=false
# N8N_RETRY_ATTEMPTS=3

# -----------------------------------------------------------------------------
# Memory & Caching (MCP-specific)
# -----------------------------------------------------------------------------
# MEMORY_BRIDGE_ENABLED=false
# MEMORY_CACHE_TTL=3600
# CONTEXT_RETRIEVAL_TIMEOUT=5000
# DISABLE_REDIS=false

# -----------------------------------------------------------------------------
# Deployment (Railway)
# -----------------------------------------------------------------------------
# RAILWAY_ENVIRONMENT=production
# RAILWAY_STATIC_URL=https://omnii-mcp-production.up.railway.app

# ==============================================================================
# MOBILE APP SPECIFIC (apps/omnii-mobile)
# ==============================================================================
#
# These variables are bundled into the React Native app via Metro bundler.
# IMPORTANT: Only use EXPO_PUBLIC_* prefix for client-safe variables!
# NEVER expose secrets like SERVICE_ROLE_KEY with this prefix.
#
# Store these in apps/omnii-mobile/.env for app-specific configuration.

# EXPO_PUBLIC_APP_VERSION=1.0.0
# EXPO_PUBLIC_BACKEND_BASE_URL=http://localhost:8000
# EXPO_PUBLIC_DEV_LAN_IP=192.168.1.100
# EXPO_PUBLIC_ENVIRONMENT=development
# EXPO_PUBLIC_SUPABASE_URL=https://[PROJECT_ID].supabase.co
# EXPO_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...
# EXPO_PUBLIC_GOOGLE_CLIENT_ID=
# EXPO_PUBLIC_GOOGLE_IOS_CLIENT_ID=
# EXPO_PUBLIC_GOOGLE_WEB_CLIENT_ID=
# EXPO_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
# EXPO_PUBLIC_NEO4J_PASSWORD=  # Only for dev - remove in production!
# EXPO_PUBLIC_USE_DIRECT_N8N=false
# EXPO_PUBLIC_USE_HTTP_CHAT=false

# ==============================================================================
# TESTING VARIABLES
# ==============================================================================

# OMNII_TEST_ENV=test
# TEST_BASE_URL=http://localhost:8000
# TEST_GOOGLE_CLIENT_ID=
# TEST_SUPABASE_URL=
# TEST_SUPABASE_ANON_KEY=

# ==============================================================================
# DEPLOYMENT PLATFORM VARIABLES (Auto-injected by platforms)
# ==============================================================================

# VERCEL_ENV=preview|production
# VERCEL_URL=omnii-one-[hash].vercel.app

# ==============================================================================
# DEVELOPER NOTES
# ==============================================================================
#
# Environment Variable Loading Order (later overrides earlier):
# 1. System environment (OS env vars, CI/CD secrets)
# 2. Root .env (this file - shared defaults)
# 3. App-level .env (apps/{app}/.env - app-specific)
# 4. App-level .env.local (gitignored - developer overrides)
#
# Namespace Prefixes:
# - OMNII_*       = Shared infrastructure across all apps
# - MCP_*         = MCP backend specific
# - EXPO_PUBLIC_* = React Native Metro bundled (client-safe only!)
# - N8N_*         = n8n agent integration
# - (none)        = Standard ecosystem vars (NODE_ENV, CI, etc.)
#
# Security Best Practices:
# - Store production secrets in 1Password/Vault, not .env files
# - Never commit .env or .env.local (gitignored)
# - Rotate secrets regularly
# - Never expose SERVICE_ROLE_KEY to client (mobile/web)
# - Use .env.local for local development overrides (gitignored)
#
# See .planning/phases/00-monorepo-consolidation-preparation/00-ENV-RECONCILIATION.md
# for complete documentation of all environment variables.
